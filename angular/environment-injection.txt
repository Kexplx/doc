// src/environment.provider.ts

import { InjectionToken, Provider } from '@angular/core';
import { environment } from 'src/environments/environment';

// For components to use as type.
export type Environment = typeof environment;

// For components to inject.
export const ENVIRONMENT_TOKEN = new InjectionToken<Environment>('Environment injection token');

// For AppModule to provide.
export const environmentProvider: Provider = {
  provide: ENVIRONMENT_TOKEN,
  useValue: environment,
};


// AppModule

providers: [environmentProvider],

// Components and services

import { ENVIRONMENT_TOKEN, Environment } from './environment-provider';
...
@Inject(ENVIRONMENT_TOKEN) private environment: Environment